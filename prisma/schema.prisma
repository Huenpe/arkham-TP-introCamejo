generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Criminal {
  id            Int    @id @default(autoincrement())  // Primary key autoincremental
  name          String
  alias         String
  age           Int
  sex           String
  treatment     String
  dangerousness String
  staff_asigned Int    // Foreign key que se relaciona con Staff.dni
  staff         Staff  @relation(fields: [staff_asigned], references: [dni]) // Relación con Staff
  crimes        Crimes[]
}

model Staff {
  dni           Int    @id  // Primary key
  name          String
  rol           String
  shift         String
  contact      Int

  criminals     Criminal[]  // Relación inversa con Criminal

}


// Campos:
// - nombre delito (asalto, homicidio, robo, etc.)
// - descripción (descripción detallada del delito)
// - fecha cometido
// - sentencia (sentencia judicial)
// - criminal_id (clave foránea a criminal)

model Crimes {

  criminal_id       Int   //foreign key
  crime_number      Int @id //pk
  description       String
  date              String 
  court_ruling      String
  Criminal         Criminal  @relation(fields: [criminal_id], references: [id])
}
